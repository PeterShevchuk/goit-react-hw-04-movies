{"version":3,"sources":["Containers/Home/Home.js","redux/actions/HomePageActions.js","Components/helpers/vars.js","redux/actions/loaderActions.js","Components/helpers/request.js","Components/MoviesItem/MoviesItem.js","img/remove.png"],"names":["Home","state","movies","page","totalPages","HomeValue","HomeLoad","updateMovies","homeLoad","props","Loader","request","getHomeMovie","then","result","setState","results","total_pages","handleChange","event","value","componentDidMount","a","HomePageLoadOtions","JSON","parse","localStorage","getItem","componentDidUpdate","prevProps","prevState","handleChangeTabs","newValue","target","name","parentNode","String","stringify","this","Paper","square","Tabs","indicatorColor","textColor","onChange","aria-label","centered","Tab","label","className","map","item","MoviesItem","key","id","Pagination","color","count","Component","mapDispatchToProps","type","HOMEPAGE","payload","connect","homePage","imgUrl","imgUrlOriginal","imgNon","API_KEY","process","URL","LANG","region","year","adult","LOADERTYPE","getSearch","search","getMovie","getActors","method","url","body","axios","data","poster_path","backdrop_path","title","removeFavorite","history","useHistory","onClick","push","src","alt","removeIcon","module","exports"],"mappings":"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","file":"static/js/9.104cd858.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"../../redux/actions/loaderActions\";\r\nimport { getHomeMovie, request } from \"../../Components/helpers/request\";\r\nimport MoviesItem from \"../../Components/MoviesItem/MoviesItem\";\r\nimport { handleChange } from \"../../redux/actions/HomePageActions\";\r\n\r\nimport \"./Home.css\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    movies: [],\r\n    page: 1,\r\n    // totalResults: 0,\r\n    totalPages: 0,\r\n    HomeValue: 0,\r\n    HomeLoad: \"popular\",\r\n  };\r\n\r\n  updateMovies = (homeLoad) => {\r\n    this.props.Loader(true);\r\n    request(\"get\", getHomeMovie(this.state.page, homeLoad ? homeLoad : this.state.HomeLoad)).then((result) => this.setState({ movies: result.results, totalPages: result.total_pages }));\r\n    this.props.Loader(false);\r\n  };\r\n  handleChange = (event, value) => {\r\n    this.setState({\r\n      page: value,\r\n    });\r\n  };\r\n  componentDidMount = async () => {\r\n    const HomePageLoadOtions = JSON.parse(localStorage.getItem(\"HomeLoadMovie\"));\r\n    this.updateMovies(HomePageLoadOtions ? HomePageLoadOtions.HomeLoad : null);\r\n    if (HomePageLoadOtions) {\r\n      this.setState({ HomeValue: HomePageLoadOtions.HomeValue, HomeLoad: HomePageLoadOtions.HomeLoad });\r\n    }\r\n  };\r\n  componentDidUpdate = async (prevProps, prevState) => {\r\n    const { page } = this.state;\r\n    if (page === prevState.page) {\r\n      return;\r\n    }\r\n\r\n    this.updateMovies();\r\n  };\r\n  handleChangeTabs = async (event, newValue) => {\r\n    const homeLoad = event.target.name ? event.target.name : event.target.parentNode.name;\r\n    if (String(homeLoad) === String(this.state.HomeLoad)) {\r\n      return;\r\n    }\r\n    await this.setState({ HomeValue: newValue, HomeLoad: homeLoad, page: 1 });\r\n    localStorage.getItem(\"HomeLoadMovie\", JSON.stringify({ HomeValue: newValue, HomeLoad: homeLoad }));\r\n    this.updateMovies();\r\n  };\r\n\r\n  render() {\r\n    const { movies, page, totalPages, HomeValue } = this.state;\r\n    return (\r\n      <>\r\n        <Paper square>\r\n          <Tabs value={HomeValue} indicatorColor=\"primary\" textColor=\"primary\" onChange={this.handleChangeTabs} aria-label=\"disabled tabs example\" centered>\r\n            <Tab label=\"Popular\" name=\"popular\" />\r\n            <Tab label=\"Top\" name=\"top_rated\" />\r\n            <Tab label=\"upcoming\" name=\"upcoming\" />\r\n            <Tab label=\"Now playing\" name=\"now_playing\" />\r\n          </Tabs>\r\n        </Paper>\r\n        <ul className=\"movies__list\">\r\n          {movies.map((item) => (\r\n            <MoviesItem key={item.id} {...item} />\r\n          ))}\r\n        </ul>\r\n        {<Pagination color=\"primary\" count={totalPages} page={page} onChange={this.handleChange} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  movies: state.homePage.movies,\r\n  page: state.homePage.page,\r\n  totalPages: state.homePage.totalPages,\r\n  HomeValue: state.homePage.HomeValue,\r\n  HomeLoad: state.homePage.HomeLoad,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  handleChange,\r\n  Loader,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\r\n// Home.propTypes = {\r\n//   history: PropTypes.object.isRequired,\r\n//   loaderToggle: PropTypes.func.isRequired,\r\n//   location: PropTypes.object.isRequired,\r\n//   match: PropTypes.object.isRequired,\r\n//   staticContext: PropTypes.bool,\r\n// };\r\n","import { HOMEMOVIE, HOMEPAGE, HOMETOTALPAGE, HOMELOADMOVIEPRIORITY, HOMELOADMOVIEPRIORITYNAME } from \"../constants\";\r\n\r\nexport const handleChange = (event, value) => ({\r\n  type: HOMEPAGE,\r\n  payload: value,\r\n});\r\n\r\n// export const removeFavorite = (id) => ({\r\n//   type: FAVORITEMOVIESREMOVE,\r\n//   payload: id,\r\n// });\r\n","// const img = [\"w500\", \"original\"];\r\n\r\nexport const imgUrl = \"https://image.tmdb.org/t/p/w500/\";\r\nexport const imgUrlOriginal = \"https://image.tmdb.org/t/p/original/\";\r\nexport const imgNon = \"https://cdn.shopify.com/s/files/1/1841/2299/products/032_RGB_grande.jpg?v=1589096608\";\r\n\r\n// request\r\nexport const API_KEY = process.env.REACT_APP_API_KEY;\r\nexport const URL = \"https://api.themoviedb.org/3\";\r\nexport const LANG = \"&language=en-US\";\r\nexport const region = \"&region=ua\";\r\nexport const year = \"&primary_release_year=2020\";\r\nexport const adult = \"&include_adult=false\";\r\n","import { LOADERTYPE } from \"../constants\";\r\n\r\nconst Loader = (value) => ({\r\n  type: LOADERTYPE,\r\n  payload: value,\r\n});\r\nexport default Loader;\r\n","import axios from \"axios\";\r\n\r\nimport { API_KEY, URL, LANG, region, year, adult } from \"./vars\";\r\n\r\nexport const getHomeMovie = (page, homeLoad) => {\r\n  return `${URL}/movie/${homeLoad}?api_key=${API_KEY}${region}&page=${page}${year}`;\r\n};\r\n\r\nexport const getSearch = (search, page = 1) => {\r\n  return `${URL}/search/movie?api_key=${API_KEY}${LANG}&query=${search}&page=${page}${adult}`;\r\n};\r\n\r\nexport const getMovie = (id, type = \"\") => {\r\n  return `${URL}/movie/${id}${type}?api_key=${API_KEY}`;\r\n};\r\nexport const getActors = (id) => {\r\n  return `${URL}/credit/${id}?api_key=${API_KEY}`;\r\n};\r\nexport const request = async (method, url, body = null) => {\r\n  const result = await axios[method](url, body);\r\n  return result.data;\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { imgUrl, imgNon } from \"../helpers/vars\";\r\nimport removeIcon from \"../../img/remove.png\";\r\nimport \"./MoviesItem.css\";\r\n\r\nconst MoviesItem = ({ poster_path, backdrop_path, id, title, removeFavorite, adult }) => {\r\n  const history = useHistory();\r\n  const redirectToMoviePage = () => {\r\n    history.push(`/movies/${id}`);\r\n  };\r\n  return (\r\n    <li className=\"movies__item\">\r\n      <img onClick={redirectToMoviePage} className=\"movies__img\" src={poster_path ? imgUrl + poster_path : backdrop_path ? imgUrl + backdrop_path : imgNon} alt={title}></img>\r\n      <p className=\"movies__title\">\r\n        {adult && \"(18+)\"} {title}{\" \"}\r\n      </p>\r\n      {removeFavorite && <img className=\"movies__favorite-remove\" alt={id} src={removeIcon} onClick={() => removeFavorite(id)} />}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MoviesItem;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAY0lEQVRIiWNgGAWDGBxnYGD4j4aPUcvww1gMJxcfxmYBE7Vcigf8p4MdQwAw4pGjVhBhtYMecYwVjFo8avGoxaMWj1o8avHQsvgJFcx/TI4mT6hGcht5jxgYGDwodPgoGMIAAIf9LS9I+wcVAAAAAElFTkSuQmCC\""],"sourceRoot":""}