{"version":3,"sources":["Containers/Home/Home.js","Components/helpers/request.js","Components/MoviesItem/MoviesItem.js","img/remove.png"],"names":["Home","updateMovies","a","props","Loader","request","getHomeMovie","page","HomeLoad","then","result","setMovie","componentDidMount","componentDidUpdate","prevProps","prevState","handleChangeTabs","event","homeLoad","handleChange","changeOptions","this","movies","totalPages","square","value","indicatorColor","textColor","onChange","aria-label","centered","label","className","map","item","key","id","color","count","Component","mapDispatchToProps","connect","state","homePage","HomeValue","options","type","URL","HOMELOADPAGE","API_KEY","region","year","getSearch","search","LANG","adult","getMovie","getActors","method","url","body","axios","data","MoviesItem","poster_path","backdrop_path","title","dispatch","useDispatch","history","useHistory","onClick","push","src","imgUrl","imgNon","alt","location","pathname","removeIcon","removeFavorite","module","exports"],"mappings":"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","file":"static/js/10.d4104566.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\n// redux\r\nimport { connect } from \"react-redux\";\r\nimport { Loader } from \"../../redux/slice/Loader\";\r\nimport { getHomeMovie, request } from \"../../Components/helpers/request\";\r\nimport MoviesItem from \"../../Components/MoviesItem/MoviesItem\";\r\nimport { handleChange, setMovie } from \"../../redux/slice/HomePage\";\r\nimport { changeOptions } from \"../../redux/slice/Options\";\r\n\r\nimport \"./Home.css\";\r\n\r\nclass Home extends Component {\r\n  updateMovies = async () => {\r\n    await this.props.Loader(true);\r\n    await request(\"get\", getHomeMovie(this.props.page, this.props.HomeLoad)).then((result) => this.props.setMovie(result));\r\n    this.props.Loader(false);\r\n  };\r\n  componentDidMount = () => {\r\n    this.updateMovies();\r\n  };\r\n  componentDidUpdate = async (prevProps, prevState) => {\r\n    const { page } = this.props;\r\n    if (page === prevProps.page) {\r\n      return;\r\n    }\r\n\r\n    this.updateMovies();\r\n  };\r\n  handleChangeTabs = async (event, homeLoad) => {\r\n    if (homeLoad === this.props.HomeLoad) {\r\n      return;\r\n    }\r\n    await this.props.handleChange(1);\r\n    await this.props.changeOptions({ HomeLoad: homeLoad });\r\n    this.updateMovies();\r\n  };\r\n\r\n  render() {\r\n    const { movies, totalPages, HomeLoad, page, handleChange } = this.props;\r\n    return (\r\n      <>\r\n        <Paper square>\r\n          <Tabs value={HomeLoad} indicatorColor=\"primary\" textColor=\"primary\" onChange={this.handleChangeTabs} aria-label=\"disabled tabs example\" centered>\r\n            <Tab label=\"Popular\" />\r\n            <Tab label=\"Top\" />\r\n            <Tab label=\"upcoming\" />\r\n            <Tab label=\"Now playing\" />\r\n          </Tabs>\r\n        </Paper>\r\n        <ul className=\"movies__list\">\r\n          {movies.map((item) => (\r\n            <MoviesItem key={item.id} {...item} />\r\n          ))}\r\n        </ul>\r\n        {<Pagination color=\"primary\" count={totalPages} page={page} onChange={(event, value) => handleChange(value)} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  movies: state.homePage.movies,\r\n  page: state.homePage.page,\r\n  totalPages: state.homePage.totalPages,\r\n  HomeValue: state.homePage.HomeValue,\r\n  HomeLoad: state.options.HomeLoad,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setMovie,\r\n  handleChange,\r\n  Loader,\r\n  changeOptions,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n\r\nHome.propTypes = {\r\n  movies: PropTypes.array.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  totalPages: PropTypes.number.isRequired,\r\n  HomeValue: PropTypes.number.isRequired,\r\n  HomeLoad: PropTypes.number.isRequired,\r\n  setMovie: PropTypes.func.isRequired,\r\n  handleChange: PropTypes.func.isRequired,\r\n  Loader: PropTypes.func.isRequired,\r\n  changeOptions: PropTypes.func.isRequired,\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { API_KEY, URL, LANG, region, year, adult, HOMELOADPAGE } from \"./vars\";\r\n\r\nexport const getHomeMovie = (page, type) => {\r\n  return `${URL}/movie/${HOMELOADPAGE[type]}?api_key=${API_KEY}${region}&page=${page}${year}`;\r\n};\r\n\r\nexport const getSearch = (search, page = 1) => {\r\n  return `${URL}/search/movie?api_key=${API_KEY}${LANG}&query=${search}&page=${page}${adult}`;\r\n};\r\n\r\nexport const getMovie = (id, type = \"\") => {\r\n  return `${URL}/movie/${id}${type}?api_key=${API_KEY}`;\r\n};\r\nexport const getActors = (id) => {\r\n  return `${URL}/credit/${id}?api_key=${API_KEY}`;\r\n};\r\nexport const request = async (method, url, body = null) => {\r\n  const result = await axios[method](url, body);\r\n  return result.data;\r\n};\r\n","import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n// redux\r\nimport { useDispatch } from \"react-redux\";\r\nimport { removeFavorite } from \"../../redux/slice/Favorite\";\r\n\r\nimport { imgUrl, imgNon } from \"../helpers/vars\";\r\nimport removeIcon from \"../../img/remove.png\";\r\nimport \"./MoviesItem.css\";\r\n\r\nconst MoviesItem = ({ poster_path, backdrop_path, id, title, adult }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const redirectToMoviePage = () => {\r\n    history.push(`/movies/${id}`);\r\n  };\r\n  return (\r\n    <li className=\"movies__item\">\r\n      <img onClick={redirectToMoviePage} className=\"movies__img\" src={poster_path ? imgUrl + poster_path : backdrop_path ? imgUrl + backdrop_path : imgNon} alt={title}></img>\r\n      <p className=\"movies__title\">\r\n        {adult && \"(18+)\"} {title}{\" \"}\r\n      </p>\r\n      {history.location.pathname === \"/movies/favorite\" && <img className=\"movies__favorite-remove\" alt={id} src={removeIcon} onClick={() => dispatch(removeFavorite(id))} />}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MoviesItem;\r\n\r\nMoviesItem.propTypes = {\r\n  poster_path: PropTypes.string,\r\n  backdrop_path: PropTypes.string,\r\n  id: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  adult: PropTypes.bool.isRequired,\r\n};\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAY0lEQVRIiWNgGAWDGBxnYGD4j4aPUcvww1gMJxcfxmYBE7Vcigf8p4MdQwAw4pGjVhBhtYMecYwVjFo8avGoxaMWj1o8avHQsvgJFcx/TI4mT6hGcht5jxgYGDwodPgoGMIAAIf9LS9I+wcVAAAAAElFTkSuQmCC\""],"sourceRoot":""}