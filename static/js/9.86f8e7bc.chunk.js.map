{"version":3,"sources":["Containers/Home/Home.js","Components/helpers/vars.js","Components/helpers/request.js","Components/Storage/Storage.js","Components/MoviesItem/MoviesItem.js","img/remove.png"],"names":["Home","state","movies","page","totalPages","HomeValue","HomeLoad","updateMovies","homeLoad","props","loaderToggle","request","getHomeMovie","then","result","setState","results","total_pages","handleChange","event","value","componentDidMount","a","HomePageLoadOtions","getFromStorage","componentDidUpdate","prevProps","prevState","handleChangeTabs","newValue","target","name","parentNode","String","saveToStorage","this","square","indicatorColor","textColor","onChange","aria-label","centered","label","className","map","item","key","id","color","count","Component","Storage","imgUrl","imgUrlOriginal","imgNon","API_KEY","process","URL","LANG","region","year","adult","getSearch","search","getMovie","type","getActors","method","url","body","axios","data","withStorage","NestedComponents","localStorage","setItem","JSON","stringify","error","Error","getItem","parse","removeFromStorage","removeItem","MoviesItem","poster_path","backdrop_path","title","removeFavorite","history","useHistory","onClick","push","src","alt","removeIcon","module","exports"],"mappings":"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","file":"static/js/9.86f8e7bc.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport { getHomeMovie, request } from \"../../Components/helpers/request\";\r\nimport MoviesItem from \"../../Components/MoviesItem/MoviesItem\";\r\nimport Storage from \"../../Components/Storage/Storage\";\r\n\r\nimport \"./Home.css\";\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    movies: [],\r\n    page: 1,\r\n    // totalResults: 0,\r\n    totalPages: 0,\r\n    HomeValue: 0,\r\n    HomeLoad: \"popular\",\r\n  };\r\n\r\n  updateMovies = (homeLoad) => {\r\n    this.props.loaderToggle(true);\r\n    request(\"get\", getHomeMovie(this.state.page, homeLoad ? homeLoad : this.state.HomeLoad)).then((result) => this.setState({ movies: result.results, totalPages: result.total_pages }));\r\n    this.props.loaderToggle(false);\r\n  };\r\n  handleChange = (event, value) => {\r\n    this.setState({\r\n      page: value,\r\n    });\r\n  };\r\n  componentDidMount = async () => {\r\n    const HomePageLoadOtions = this.props.getFromStorage(\"HomeLoadMovie\");\r\n    this.updateMovies(HomePageLoadOtions ? HomePageLoadOtions.HomeLoad : null);\r\n    if (HomePageLoadOtions) {\r\n      this.setState({ HomeValue: HomePageLoadOtions.HomeValue, HomeLoad: HomePageLoadOtions.HomeLoad });\r\n    }\r\n  };\r\n  componentDidUpdate = async (prevProps, prevState) => {\r\n    const { page } = this.state;\r\n    if (page === prevState.page) {\r\n      return;\r\n    }\r\n\r\n    this.updateMovies();\r\n  };\r\n  handleChangeTabs = async (event, newValue) => {\r\n    const homeLoad = event.target.name ? event.target.name : event.target.parentNode.name;\r\n    if (String(homeLoad) === String(this.state.HomeLoad)) {\r\n      return;\r\n    }\r\n    await this.setState({ HomeValue: newValue, HomeLoad: homeLoad });\r\n    this.props.saveToStorage(\"HomeLoadMovie\", { HomeValue: newValue, HomeLoad: homeLoad });\r\n    this.updateMovies();\r\n  };\r\n\r\n  render() {\r\n    const { movies, page, totalPages, HomeValue } = this.state;\r\n    return (\r\n      <>\r\n        <Paper square>\r\n          <Tabs value={HomeValue} indicatorColor=\"primary\" textColor=\"primary\" onChange={this.handleChangeTabs} aria-label=\"disabled tabs example\" centered>\r\n            <Tab label=\"Popular\" name=\"popular\" />\r\n            <Tab label=\"Top\" name=\"top_rated\" />\r\n            <Tab label=\"upcoming\" name=\"upcoming\" />\r\n            <Tab label=\"Now playing\" name=\"now_playing\" />\r\n          </Tabs>\r\n        </Paper>\r\n        <ul className=\"movies__list\">\r\n          {movies.map((item) => (\r\n            <MoviesItem key={item.id} {...item} />\r\n          ))}\r\n        </ul>\r\n        {<Pagination color=\"primary\" count={totalPages} page={page} onChange={this.handleChange} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default Storage(Home);\r\n\r\nHome.propTypes = {\r\n  history: PropTypes.object.isRequired,\r\n  loaderToggle: PropTypes.func.isRequired,\r\n  location: PropTypes.object.isRequired,\r\n  match: PropTypes.object.isRequired,\r\n  staticContext: PropTypes.bool,\r\n};\r\n","// const img = [\"w500\", \"original\"];\r\n\r\nexport const imgUrl = \"https://image.tmdb.org/t/p/w500/\";\r\nexport const imgUrlOriginal = \"https://image.tmdb.org/t/p/original/\";\r\nexport const imgNon = \"https://cdn.shopify.com/s/files/1/1841/2299/products/032_RGB_grande.jpg?v=1589096608\";\r\n\r\n// request\r\nexport const API_KEY = process.env.REACT_APP_API_KEY;\r\nexport const URL = \"https://api.themoviedb.org/3\";\r\nexport const LANG = \"&language=en-US\";\r\nexport const region = \"&region=ua\";\r\nexport const year = \"&primary_release_year=2020\";\r\nexport const adult = \"&include_adult=false\";\r\n","import axios from \"axios\";\r\n\r\nimport { API_KEY, URL, LANG, region, year, adult } from \"./vars\";\r\n\r\nexport const getHomeMovie = (page, homeLoad) => {\r\n  return `${URL}/movie/${homeLoad}?api_key=${API_KEY}${region}&page=${page}${year}`;\r\n};\r\n\r\nexport const getSearch = (search, page = 1) => {\r\n  return `${URL}/search/movie?api_key=${API_KEY}${LANG}&query=${search}&page=${page}${adult}`;\r\n};\r\n\r\nexport const getMovie = (id, type = \"\") => {\r\n  return `${URL}/movie/${id}${type}?api_key=${API_KEY}`;\r\n};\r\nexport const getActors = (id) => {\r\n  return `${URL}/credit/${id}?api_key=${API_KEY}`;\r\n};\r\nexport const request = async (method, url, body = null) => {\r\n  const result = await axios[method](url, body);\r\n  return result.data;\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nconst withStorage = (NestedComponents) => {\r\n  return class extends Component {\r\n    saveToStorage = (key, value) => {\r\n      try {\r\n        localStorage.setItem(key, JSON.stringify(value));\r\n      } catch (error) {\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    getFromStorage = (key) => {\r\n      try {\r\n        const value = localStorage.getItem(key);\r\n        return value ? JSON.parse(value) : null;\r\n      } catch (error) {\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    removeFromStorage = (key) => {\r\n      try {\r\n        localStorage.removeItem(key);\r\n      } catch (error) {\r\n        throw new Error(error);\r\n      }\r\n    };\r\n    render() {\r\n      return <NestedComponents {...this.props} {...this} />;\r\n    }\r\n  };\r\n};\r\n\r\nexport default withStorage;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { imgUrl, imgNon } from \"../helpers/vars\";\r\nimport removeIcon from \"../../img/remove.png\";\r\nimport \"./MoviesItem.css\";\r\n\r\nconst MoviesItem = ({ poster_path, backdrop_path, id, title, removeFavorite, adult }) => {\r\n  const history = useHistory();\r\n  const redirectToMoviePage = () => {\r\n    history.push(`/movies/${id}`);\r\n  };\r\n  return (\r\n    <li className=\"movies__item\">\r\n      <img onClick={redirectToMoviePage} className=\"movies__img\" src={poster_path ? imgUrl + poster_path : backdrop_path ? imgUrl + backdrop_path : imgNon} alt={title}></img>\r\n      <p className=\"movies__title\">\r\n        {adult && \"(18+)\"} {title}{\" \"}\r\n      </p>\r\n      {removeFavorite && <img className=\"movies__favorite-remove\" alt={id} src={removeIcon} onClick={() => removeFavorite(id)} />}\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MoviesItem;\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAY0lEQVRIiWNgGAWDGBxnYGD4j4aPUcvww1gMJxcfxmYBE7Vcigf8p4MdQwAw4pGjVhBhtYMecYwVjFo8avGoxaMWj1o8avHQsvgJFcx/TI4mT6hGcht5jxgYGDwodPgoGMIAAIf9LS9I+wcVAAAAAElFTkSuQmCC\""],"sourceRoot":""}